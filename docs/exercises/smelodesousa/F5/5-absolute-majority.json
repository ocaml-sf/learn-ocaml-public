[
  {
    "learnocaml_version": "2",
    "kind": "exercise",
    "title": "Absolute majority!",
    "stars": 2,
    "identifier": "5.12",
    "authors": [
      [
        "Gonçalo Domingos",
        "goncalogdomingos@gmail.com"
      ],
      [
        "Leonardo Santos",
        "leomendesantos@gmail.com"
      ]
    ],
    "focus": [
      "Array manipulation",
      "list manipulation"
    ],
    "backward_exercises": [
      "smelodesousa/F5/5-zombie-attack"
    ]
  },
  {
    "id": "5-absolute-majority",
    "prelude": "",
    "template": "let majority votes = failwith \"Replace with your solution\"\n\nlet mjrty l = failwith \"Replace with your solution\"",
    "descr": [
      [
        "",
        "<script>\nMathJax = {\n  loader: {load: ['input/asciimath', 'output/chtml']},\n  asciimath: {\n    delimiters: [['$','$'], ['`','`']]\n  }\n}\n</script>\n\n<script src='https://polyfill.io/v3/polyfill.min.js?features=es6'></script>\n<script src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js' async='' id='MathJax-script' type='text/javascript'></script>\n\n<h1 id=\"Introduction\">Introduction</h1>\n\n<p>Imagine an electoral process in which candidates have an integer that identifies them (candidate 1, 2, 3, etc.).</p>\n<p>In this configuration, a vote is the integer representing the candidate chosen by the voter. For example, a vote with $3$ is a vote towards candidate number $3$.</p>\n<p>The votes are placed on an array. We pretend to know if there is an absolute majority in the election. In this case the candidate with the majority of the votes is elected.</p>\n<h1 id=\"Objectives\">Objectives</h1>\n\n<ol><li>Define the <code>majority : int array -&gt; int</code> function that returns the integer belonging to the candidate that has the majority of the votes. If there is no majority, the exception <code>Not_found</code> is thrown.</li></ol>\n\n<p>There is an algorithm, called <em>MJRTY algorithm</em>, created by R. Boyer and J. Moore in 1980, which determines if there is a majority winner in $2\\times N$ comparisons and only needs $3$ variables apart from the votes array. Another advantage is that it doesn&#39;t need to know how many candidates the election has.</p>\n<p>Reference to the algorithm:</p>\n<blockquote><p>Robert S. Boyer, J. Strother Moore.  <em>MJRTY - A Fast Majority Vote Algorithm</em>.  In R.S. Boyer (ed.), Automated Reasoning: Essays in Honor of Woody Bledsoe, Automated Reasoning Series, Kluwer Academic Publishers, Dordrecht, The Netherlands, 1991, pp. 105-117.  http://www.cs.utexas.edu/users/boyer/mjrty.ps.Z</p>\n</blockquote>\n\n<p>Pseudocode for the algorithm:</p>\n<pre class='pseudocode'><code class='pseudocode'>Prelude: The candidates are identified by integers.\n         a is the array containing the votes  \n\nlet m be an integer and i a counter with a starting value of 0\n\nfor each element x of a\n  if i = 0 then m := x and i := 1\n  else if m = x then increment i\n  else decrement i\n\nif i = 0 then throw Not_found\nif i &gt; ⌊|a|/2⌋ then return m\n\nreset i to 0\nfor each element x of a\n  if x = m then increment i\n  \nif i &gt; ⌊|a|/2⌋ then return m\nelse throw Not_found</code></pre>\n\n<p>The first cicle of this algorithm can be graphically represented in the following way:</p>\n<p><img src='https://i.imgur.com/TifapTj.png' alt='' /></p>\n<p>(taken from wikipedia)</p>\n<p>We know the winner is decided if his advantage (value of $i$) is bigger than half of the votes. We also know that the voting hasn&#39;t missed any winners if that same value is $0$. In every other case, we can&#39;t conclude anything, meaning we need a new count, this time of the votes for the proposed winner.</p>\n<p>In the image example, if the voting only had the first 7 votes, then the yellow candidate would have been excluded from being a winner in the second cycle.</p>\n<ol><li>Implement the <code>mjrty :int list -&gt; int</code> function that implements this algorithm. <br />\n For example <code>mjrty [1; 1; 2; 1; 2; 3; 3; 2; 2; 2; 1; 2; 2; 3; 2; 2] = 2</code> <br />\n If the votes are inconclusive (no absolute majority), the function should throw a <code>Not_found</code> exception. <br /></li></ol>"
      ]
    ],
    "prepare": "",
    "test": "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",
    "solution": "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",
    "max-score": 25
  },
  null
]