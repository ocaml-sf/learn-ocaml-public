[
  {
    "learnocaml_version": "2",
    "kind": "exercise",
    "title": "The dutch flag problem",
    "stars": 2,
    "identifier": "5.16",
    "authors": [
      [
        "Rui Barata",
        "rui.barata@ubi.pt"
      ]
    ],
    "focus": [
      "Array manipulation",
      "Variant types"
    ],
    "backward_exercises": [
      "smelodesousa/F5/5-absolute-majority"
    ]
  },
  {
    "id": "5-holand",
    "prelude": "type color_names = Blue | White | Red\ntype ball = color_names * int\n\nlet color ((c, _) : ball) = c\nlet index ((_, i) : ball) = i\n",
    "template": "let dutch_flag a = failwith \"Unanswered\"\n",
    "descr": [
      [
        "",
        "<script>\nMathJax = {\n  loader: {load: ['input/asciimath', 'output/chtml']},\n  asciimath: {\n    delimiters: [['$','$'], ['`','`']]\n  }\n}\n</script>\n\n<script src='https://polyfill.io/v3/polyfill.min.js?features=es6'></script>\n<script src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js' async='' id='MathJax-script' type='text/javascript'></script>\n\n<h1 id=\"Introduction\">Introduction</h1>\n\n<p>This programming problem was originally proposed by <a href=\"https://en.wikipedia.org/wiki/Edsger_Dijkstra\" target=\"_blank\" rel=\"noopener noreferrer\">Edsger Dijkstra</a> to illustrate and highlight some expected properties of a sorting algorithm, such as stability.</p>\n<p>Given an arbitrary sequence of 3 colored balls of arbitrary length. How to sort this sequence so that the sequence is ordered (the blue balls first, followed by the white balls, and finally the red balls)? Moreover, it is intended that the original order of balls of the same color is respected!</p>\n<p>For instance, in the unordered sequence, if a particular blue ball is in a more left-handed position than another blue ball, then in the ordered sequence, this order holds. It remains in a more left-handed position than the other, and the ordering is said to be <em>stable</em>.</p>\n<p>The algorithm proposed by Dijkstra for this problem shows that it is possible to sort a collection of $n$ colored objects using a <em>linear</em> number of color comparisons. Although, classical sorting algorithms (the family of sorting algorithms that do not use the information particular about objects for sorting, for example, here the knowledge that there are only three colors, blue, white, and red) needs on average (and in the worst case in the best algorithms) a greater number of comparisons, on the order of $n .log(n)$</p>\n<p>We will assume the OCaml type to represent the colors and the following utility functions:</p>\n<pre class='ocaml'><code class='ocaml'>type color_names = Blue | White | Red\ntype ball = (color_names*int)\nlet color ((c,_) : ball) = c \nlet index ((_,i) : ball) = i</code></pre>\n\n<p>Then, we propose this pseudocode for the desired sorting. Note that this pseudocode <em>purposely has &quot;subtle&quot; errors</em>!</p>\n<pre class='pseudocode'><code class='pseudocode'>input: a: vector of ball elements\n\nb := 0\ni := 0\nr := length of a\n\nWhen i &lt; r do\n if color a[i] = Blue then \n    swap the values of a[b] e a[i]\n    increment b \n else if cor a[i] = White then \n    increment i\n else // color a[i] = Red\n    increment r\n    swap the values of a[r] e a[i]\n end do    </code></pre>\n\n<h1 id=\"Objetive\">Objetive</h1>\n\n<p>After executing this pseudocode on paper and correcting any errors it contains, define the function <code>dutch_flag : ball array -&gt; ball array</code> that sorts the parameter vector using this algorithm. Assigning an index to each color using the pair <code>(color_names * int)</code> enables us to determine whether the suggested approach is stable.</p>\n<p>Therefore: <code>dutch_flag [|(Red,0);(White,1);(Blue,2);(Red,3);(Blue,4);(White,5);(Blue,6);(Red,7);(White,8);(Blue,9)|] = [(Blue,2);(Blue,4);(Blue,6);(Blue,9);(White,1);(White,5);(White,8);(Red,0);(Red,3);(Red,7)|] </code></p>\n"
      ]
    ],
    "prepare": "",
    "test": "K28+la/XKKcTC24GfE60e7YPTTgUSVZLPTxeWVXsfIFka5R/VXi0DTYbu+SpfrxKey8RKjM6vbaoEgorgj4Sdp2hV/FvGYYWxaRax1FUZPwhTx6PtaI4bHMYGItHiWTeC2WTv2BHHenZ36HTTipJuuPA6DTARVHzfUMFogbOgmlop1qVlnNsxA2zzhKlSBSbYlFNTF6XXVpoEAtIEL766yaaGTk3YMwEWX7suLiehn7z3MEf0iLufbd0yEzuAZ3bH8YTUWdOuArJcHas6E9vs8QW/VX1tkDk16FT5EK+IwV0t2uclEdWqN6D1gx02ETfd1HKAtRTHIO9TRCJjYegIlnIygigIjjkSTL3kfwhC0g7CAMIVEEZEz9BC8dQr38IOewJToA9kkcnM3PxbKPvCrghlSs8I+qqdRO10rZbpalKSUQ2Ik3GAhDlYt3EACjdNQqNTcrrU0EsT8mYQtJ8nRDXyhKRHUTc7TR/y5ZaNfzgltF1/AsLgOUVMcvCkLEy2gj4mu6rP0BCC2eDencRdD2BRUUeMkV1PRBVQETfxL22c5BfJzDG2XNharyw6LNn7iPGO8A6fvDGDZ6VfjXQq52rRpM6W2VO7bcVeYRmI0E/BcxBfeNRqDo2FvNCgW41FJqY7ZU1QqW31mrVGydLuuyHn9S+Ci0zhA6M7ha0xHhrccyRrGRqaHwftYbvY6SbYoUIHlVzXlpyUlV1Xa3XjUTeByp1Lx5LDCq7hO7qvzbKNOcfNnqpxrM3/Vj7+tXtAjdCXHpQoEuFrHbtk/I/vpo9/UaBtkGdPFUUyB4FY1paiZ+d/llWhxNk2xMD2Bu5xdyJFtkO+rioGQaBsM7h4CGIp2vd0X4/LX+08fw7FLg8Oz2MER9ZGW9QERUQpuT7OewBPVV5jkcm3KjtsYzzZM5l6HZhWOv7xVaZE+Iu/egCN5xzK/ySTxXl0rS4KzTn1UfVTdGmU0pdVRffDtRy7ECJlb0fTo+dlDQelldoSPup5PYDoQ1VrvkWZxyL8qQcZx74y49804R/OteKwzIAsi6uTUpRGR9Z+RARFRCghLcmdoVhWWDOVz6Su+ncbbM5oDSU4jNnhtDsCwp2x8j3wW5jA/F7EIYL74RaeYQIFu1kQwVYnK6eqDoVFs6C9SKEQJq+c+1HXb7VODqLR7w7bqCI6E+BCoWwwEkM5+yCxX6v7I+Uh5/saA2jzhbvY6SbPmoWZ6EZGR/wEBEV00y6h6HjBG/V+NJ40y8bf3zEtWWXY25uYoKKxrAM8Weo+syiFzccE7wVoUCJsmCwpXd/xSVOcSaBcQTnPFl4jEbPIqcAihbw9p2wjwok4KBPTGI=",
    "solution": "FviW04qtzvGE8xtI8eklFnRBDEpMMo9Z+VoUQRDkfNUejoNqFDyVCmpHh3XrubN6oHi+VWNnfre9Cc/Tx8+XeA2pA7x4EMcFxaRae16FMPIzTx6P9aYXqE1xFwEMrnKEQN34v2A2FvHQZyfVTlxkbuyGu9+BCkytdEl3mI7OtG6KgJg3bPT0xvf0yR8pr86LSUFNTBEZVF5cUk9VU0za5Wan+mkVYNs4Li8/sv3qhni+NJpnI7+wfvFXz/erZMWbC8dCB7sEm5qVcBj6lUV9ajcO/U3Dtlr6PFRUrDyZXgcAihbw9p2wbwok4KpOZBDfwIGEGxFdX3DpCEnEkYed+6fcnnGaeav3z+4TQLSr0BUuP5tAUFgzWDoIEUEZr0TIS4dFPV6bjk163L3oq4voQLcdfWR8Nuajh63zVbgvlMEDYkwRN6zPIYyl4bjEXGSJDEfYU1GeWLokGmmYQwF5pQ4S/N4QTo+dlHBr6pogNendn1MgpFgNv36WZxyL8qQc4aWEYO3jk+Or/xETwPtpXzIDTSpRGEhQ+XARFEKppt5er5RmEWDRV//Sw++czvkq9HmRLWM7w4HnFws2gnqEdQg8V65sXxYB5NhmvNAAIK1/D2lp6adQbmpUFtVx9SL/Etz0wNh1W3fEH8qTTmFAqKXG6BfBU6W9rz2M71rOcDlWgJ/teqyIxNHS7pbdsGwWOl6NRFJWVVYeEE51ELPxjSrmQTZVIgQSImyaf0imvzfA11oaOiqvvr5RyVTfKdfiSopCUWIQooC8cHbt",
    "max-score": 10
  },
  null
]